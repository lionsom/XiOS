

# Swift ä¸Ž Objective-C

* ç¼–ç¨‹èŒƒå¼

  * Swiftå¯ä»¥é¢å‘åè®®ç¼–ç¨‹ã€å‡½æ•°å¼ç¼–ç¨‹ã€é¢å‘å¯¹è±¡ç¼–ç¨‹ã€‚
  * OCä»¥é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸ºä¸»ï¼Œå¼•å…¥ARCåº“è¿›è¡Œå‡½æ•°å¼ç¼–ç¨‹ã€‚

* ç±»åž‹å®‰å…¨

  * Swiftç±»åž‹å®‰å…¨è¯­è¨€ï¼Œæ˜Žç¡®å€¼çš„ç±»åž‹ã€‚
  * OCåˆ™ä¸ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥å£°æ˜ŽNSStringå˜é‡ï¼Œè¿è¡Œæ—¶ä»ç„¶å¯ä»¥ä¼ é€’NSNumberç»™ä»–ã€‚

* å€¼ç±»åž‹å¢žå¼º

  * Swiftä¸­ï¼Œå…¸åž‹çš„æœ‰structã€enumã€tupleéƒ½æ˜¯å€¼ç±»åž‹ï¼Œè€Œå¹³æ—¶å¸¸ç”¨çš„Intã€Doubleã€Floatã€Stringã€Arrayã€Dictionaryã€Set å…¶å®žéƒ½æ˜¯ç”¨ **ç»“æž„ä½“** å®žçŽ°çš„ï¼Œä¹Ÿæ˜¯å€¼ç±»åž‹ã€‚

  * OCä¸­ï¼ŒNSNumberã€NSStringä»¥åŠé›†åˆç±»å¯¹è±¡éƒ½æ˜¯æŒ‡é’ˆç±»åž‹ã€‚

* æžšä¸¾å¢žå¼º

  * Swiftçš„æžšä¸¾å¯ä»¥ä½¿ç”¨ æ•´å½¢ã€æµ®ç‚¹åž‹ã€å­—ç¬¦ä¸²ç­‰ï¼Œè¿˜èƒ½æ‹¥æœ‰å±žæ€§å’Œæ–¹æ³•ï¼Œç”šè‡³æ”¯æŒæ³›åž‹ã€åè®®ã€æ‰©å±•ç­‰ã€‚
  * OCæžšä¸¾åˆ™é¸¡è‚‹å¾ˆå¤šã€‚

* æ³›åž‹

  * Swiftæ”¯æŒæ³›åž‹ï¼Œä¹Ÿæ”¯æŒæ³›åž‹çš„ç±»åž‹çº¦æŸç­‰ç‰¹æ€§ã€‚
  * OCçš„æ³›åž‹çº¦æŸä»…ä»…åœç•™åœ¨ç¼–è¯‘å™¨è­¦å‘Šé˜¶æ®µã€‚

* åè®®å’Œæ‰©å±•

  * Swiftå¯¹åè®®çš„æ”¯æŒæ›´ä¸°å¯Œï¼Œä¹Ÿå¯ä»¥ç”¨äºŽå€¼ç±»åž‹ã€‚
  * OCåè®®ç¼ºä¹å¼ºçº¦æŸï¼Œæä¾›optionalç‰¹æ€§ã€‚

* å‡½æ•°å’Œé—­åŒ…

  * Swiftå‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘ï¼Œå¯ä»¥å®šä¹‰å‡½æ•°ç±»åž‹å˜é‡ï¼Œå¯ä»¥ä½œä¸ºå…¶ä»–å‡½æ•°å‚æ•°ä¼ é€’ï¼Œå¯ä»¥ä½œä¸ºå‡½æ•°çš„è¿”å›žå€¼è¿”å›žã€‚
  * OCä¸­å‡½æ•°æ˜¯æ¬¡ç­‰å…¬æ°‘ï¼Œéœ€è¦selectorå°è£…æˆ–blockæ‰èƒ½æ¨¡æ‹ŸSwiftä¸­ç±»ä¼¼çš„æ•ˆæžœã€‚



# Swiftå¼€å‘å·¥å…·

## 1. Swiftcå‘½ä»¤è¡Œ



## 2.REPLäº¤äº’å¼è§£é‡Šå™¨

Read Eval PrintLoop



## 3.Playground



# Swiftå®šä¹‰å¸¸é‡å’Œå˜é‡

* let å£°æ˜Žå¸¸é‡
* var å£°æ˜Žå˜é‡



## OCä¸­å¦‚ä½•å£°æ˜Žå¸¸é‡å’Œå˜é‡ï¼Ÿ

> OCé»˜è®¤å£°æ˜Žçš„éƒ½æ˜¯å˜é‡ã€‚
>
> 1. `#define`å®šä¹‰å¸¸é‡;
> 2. `static const`å®šä¹‰å¸¸é‡ï¼›
> 3. å±žæ€§ä¸­çš„ `readonly`;

 

## Swiftå£°æ˜Žå¸¸é‡å’Œå˜é‡

```swift
var wel: String
wel = "hello world"

// å¤šä¸ªå˜é‡
var wel = "hello", come = "world", ha = "!"
```



## Swiftå˜é‡å’Œå¸¸é‡çš„åå­—

> 1. Swiftå˜é‡å’Œå¸¸é‡çš„åå­—å‡ ä¹Žå¯ä»¥æ˜¯ä»»ä½•å­—ç¬¦ï¼ŒåŒ…æ‹¬Unicodeå­—ç¬¦ï¼›
> 2. ä½†æ˜¯åå­—ä¸èƒ½åŒ…æ‹¬ `ç©ºç™½ç¬¦ã€æ•°å­¦ç¬¦å·ã€ç®­å¤´ã€ä¿ç•™ï¼ˆæˆ–æ— æ•ˆï¼‰Unicodeç ã€è¿žçº¿ã€åˆ¶è¡¨ç¬¦`ï¼Œä¸èƒ½ä»¥`æ•°å­—å¼€å¤´`ã€‚

```
let Ï€ = 3.14
let ä½ å¥½ = "ä½ å¥½ä¸–ç•Œ"
```



## æ‰“å°å¸¸é‡å’Œå˜é‡

```
print("æ¬¢è¿Ž\(ä½ å¥½)")

// æ¬¢è¿Žä½ å¥½ä¸–ç•Œ
```



# Swiftä¸­æ•°å€¼ç±»åž‹

## æ•´æ•°

> Int æ‹¥æœ‰ä¸Žå½“å‰å¹³å°åŽŸç”Ÿå­—ç›¸åŒé•¿åº¦
>
> Int8ã€Int32ã€Int64
>
> UInt8ã€UInt32ã€UInt64

## æµ®ç‚¹æ•°

> Float 32ä½æµ®ç‚¹æ•°
>
> Doubleã€æŽ¨èã€‘ 64ä½æµ®ç‚¹æ•°



![](media/001.jpg)



## Bool

> 1ã€true / false
>
> 2ã€Swiftç±»åž‹å®‰å…¨æœºåˆ¶ä¼šé˜»æ­¢ç”¨ä¸€ä¸ªéžå¸ƒå°”é‡ä»£æ›¿Bool

```
ã€ERRORã€‘
if i==1 {
		print(i)
}
```



## ç±»åž‹åˆ«å typealias

```
typealias AudioSample = Uint8
let sample: AudioSample
```



# Swiftå…ƒç¥–tuple

> 1. tupleå¯ä»¥æŠŠå¤šä¸ªå€¼åˆå¹¶æˆä¸€ä¸ªå¤åˆåž‹çš„å€¼ï¼›
> 2. tupleå€¼å¯ä»¥æ˜¯ä»»ä½•ç±»åž‹ï¼Œä¸å¿…æ˜¯åŒä¸€ç±»åž‹ï¼›

```
let error = (404, "æ‰¾ä¸åˆ°æœåŠ¡")
print(error.0)
print(error.1)

// 1 
// æ‰¾ä¸åˆ°æœåŠ¡
```



## å¯ä»¥æŒ‡å®šåç§°

```
let error = (errorCode: 404, errorMessage: "æ‰¾ä¸åˆ°æœåŠ¡")
print(error.errorCode)
print(error.errorMessage)
```



## tupleä¿®æ”¹

> 1. `var tuple`ä¸ºå¯å˜å…ƒç¥–ï¼Œ`let tuple`ä¸ºä¸å¯å˜å…ƒç¥–ï¼›
>
> 2. ä¸ç®¡æ˜¯å¯å˜ã€ä¸å¯å˜å…ƒç¥–ï¼Œå…ƒç¥–åˆ›å»ºåŽå°±ä¸èƒ½å¢žåŠ ã€åˆ é™¤å…ƒç´ ï¼›
> 3. å¯å˜å…ƒç¥–å¯ä»¥å¯¹å…ƒç´ è¿›è¡Œä¿®æ”¹ï¼Œä½†ä¸èƒ½æ”¹å˜å…¶ç±»åž‹ï¼›
> 4. anyç±»åž‹å¯ä»¥æ”¹ä¸ºä»»ä½•ç±»åž‹ï¼›

```
var error: (Any, String)
error.0 = 12
error.1 = "fuck you"

error.1 = "hello"
```



## tupleåˆ†è§£

> 1. å°†tupleçš„å†…å®¹åˆ†è§£æˆå•ç‹¬çš„å˜é‡æˆ–å¸¸é‡ï¼›
> 2. å¦‚æžœåªéœ€è¦å…ƒç¥–ä¸€éƒ¨åˆ†ï¼Œä¸éœ€è¦çš„æ•°æ®å¯ä»¥ç”¨ï¼ˆ_ï¼‰ä»£æ›¿ï¼›

```
let error(1, "æ²¡æœ‰æƒé™", "infomation")
let (errorCode, errorMessage, _) = error
print(errorCode)
print(errorMessage)
```



## å®žæˆ˜ - tupleä½œä¸ºå‡½æ•°è¿”å›žå€¼

```
func write(content: String) -> (errorCode: Int, errorMessage: String) {
		return (500, "æœåŠ¡å™¨å¼‚å¸¸")
}

let error = write(content: "å“ˆå“ˆ")
print(error)

// (errorCode: 500, errorMessage: "æœåŠ¡å™¨å¼‚å¸¸")
```



# Swiftä¸­ä½¿ç”¨Optional

## OCä¸­çš„ç©ºå€¼nil

> 1. OCä¸­nilæ˜¯æ— ç±»åž‹çš„æŒ‡é’ˆï¼›
> 2. OCä¸­NSArrayã€NSDictionaryã€NSSetç­‰ä¸å…è®¸æ”¾å…¥nilï¼›
> 3. OCæ‰€æœ‰å¯¹è±¡å˜é‡éƒ½å¯ä»¥ä¸ºnilï¼›
> 4. OCä¸­nilåªèƒ½ç”¨åœ¨å¯¹è±¡ä¸Šï¼Œè€Œå…¶ä»–åœ°æ–¹åˆæœ‰å…¶ä»–ç‰¹æ®Šå€¼ï¼ˆå¦‚NSNotFoundï¼‰è¡¨ç¤ºå€¼çš„ç¼ºå¤±ã€‚



## nilåœ¨OCä¸ŽSwiftæ¯”è¾ƒ

> 1. åœ¨OCä¸­nilæ˜¯æŒ‡å‘ä¸€ä¸ªä¸å­˜åœ¨å¯¹è±¡çš„æŒ‡é’ˆï¼›
> 2. åœ¨Swiftä¸­ï¼Œ**nilä¸æ˜¯æŒ‡é’ˆ**ï¼Œå®ƒæ˜¯å€¼ç¼ºå¤±çš„ä¸€ç§ç‰¹æ®Šç±»åž‹ï¼Œ**ã€Œä»»ä½•ç±»åž‹å¯é€‰é¡¹ã€**éƒ½å¯ä»¥è®¾ç½®æˆnilã€‚



## Swiftå¼•å…¥Optional

> é€šè¿‡åœ¨å˜é‡ç±»åž‹åŽé¢åŠ  ï¼Ÿè¡¨ç¤ºï¼š
>
> 1. è¿™é‡Œæœ‰ä¸€ä¸ªå€¼ï¼Œå®ƒç­‰äºŽxï¼›
> 2. è¿™é‡Œæ ¹æœ¬æ²¡æœ‰å€¼ã€‚



## Optionalä½¿ç”¨

### 1. Optionalå±•å¼€

> 1. å¯é€‰é¡¹æ˜¯æ²¡æ³•ç›´æŽ¥ä½¿ç”¨ï¼›
> 2. éœ€è¦ç”¨ ï¼å±•å¼€ä½¿ç”¨ï¼›ï¼ˆæ„æ€æ˜¯ï¼šæˆ‘çŸ¥é“è¿™ä¸ªå¯é€‰é¡¹ä¸­æœ‰å€¼ï¼Œå±•å¼€å§ï¼Œå¯ä»¥ä½¿ç”¨ï¼‰

```
ã€ERRORã€‘
var str: String? = "abc"
let count = str.count

ã€Rightã€‘
var str: String? = "abc"
if str != nil {
		let count = str.count
}
```

### 2.Optionalå¼ºåˆ¶å±•å¼€

> ä½¿ç”¨ ï¼æ¥èŽ·å–ä¸€ä¸ªä¸å­˜åœ¨çš„å¯é€‰å€¼ä¼šå¯¼è‡´è¿è¡ŒæŠ¥é”™ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨ï¼å¼ºåˆ¶å±•å¼€ä¹‹å‰å¿…é¡»ç¡®ä¿å¯é€‰é¡¹ä¸­åŒ…å«ä¸€ä¸ªéžnilçš„å€¼ã€‚

```
ã€ERRORã€‘
var str: String?
let count = str!.count
```

### 3.Optionalç»‘å®š

> 1. å¯ä»¥ä½¿ç”¨å¯é€‰é¡¹ç»‘å®šæ¥åˆ¤æ–­å¯é€‰é¡¹æ˜¯å¦åŒ…å«å€¼ï¼Œå¦‚æžœåŒ…å«å°±æŠŠå€¼èµ‹ç»™ä¸€ä¸ªä¸´æ—¶å˜é‡æˆ–å¸¸é‡ï¼›
> 2. å¯ä»¥ä¸Ž if å’Œ while è¯­å¥é…åˆä½¿ç”¨ï¼›
> 3. åŒä¸€ä¸ªifè¯­å¥ä¸­å¯ä»¥åŒ…å«å¤šä¸ªå¯é€‰é¡¹ç»‘å®šï¼Œç”¨é€—å·éš”å¼€ï¼Œå¦‚æžœå…¶ä¸­ä¸€ä¸ªä¸ºnilï¼Œåˆ™æ•´ä¸ªifåˆ¤æ–­ä¸ºfalseã€‚

```
var str: String? = "abc"
var str1: String? = nil
if let acc = str, let bb = str1 {
		let count = acc.count
}
```

## 4.Optionaléšå¼å±•å¼€

> 1. æœ‰äº›å¯é€‰é¡¹ä¸€æ—¦è¢«èµ‹å€¼åŽï¼Œå°±ä¼šä¸€ç›´æ‹¥æœ‰å€¼ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œå°±å¯ä»¥åŽ»æŽ‰æ£€æŸ¥ï¼Œä¸å¿…æ¯æ¬¡è®¿é—®éƒ½è¿›è¡Œå±•å¼€ï¼›
> 2. é€šè¿‡åœ¨å£°æ˜Žç±»åž‹åŽé¢åŠ ä¸€ä¸ªå¹å·ï¼ˆ!ï¼‰è€Œéžé—®å·ï¼ˆ?ï¼‰æ¥ä¹¦å†™éšå¼å±•å¼€ï¼›
> 3. éšèº«å±•å¼€å¯é€‰é¡¹ä¸»è¦è¢«ç”¨åœ¨Swiftç±»åˆå§‹åŒ–è¿‡ç¨‹ä¸­ï¼›

```
var str: String! = "abc"
let count = str.count
```

## 5.Optionalå¯é€‰é“¾

> 1. å¯é€‰é¡¹åŽé¢åŠ ï¼Ÿè¿›è¡Œæ‰§è¡Œï¼›
> 2. å¦‚æžœå¯é€‰é¡¹ä¸ä¸ºnilï¼Œè¿”å›žä¸€ä¸ªå¯é€‰é¡¹ç»“æžœï¼Œå¯é€‰é¡¹ç»“æžœåŽç»­ä½¿ç”¨ä¾æ—§éœ€è¦å±•å¼€ï¼›å¦åˆ™è¿”å›žnilã€‚

```
var str: String? = "abc"
let count = str?.count      // è¿™é‡Œçš„countä¹Ÿæ˜¯ä¸€ä¸ªå¯é€‰é¡¹ç±»åž‹ï¼ŒåŽç»­ä½¿ç”¨ä¹Ÿå¿…é¡»è¿›è¡Œå±•å¼€
if count != nil {
		let last = count! - 1
}
```



# Optionalå®žçŽ°åŽŸç†æŽ¢ç©¶







# å­—ç¬¦ä¸²String

## åˆå§‹åŒ–ç©ºä¸²

> 1. å­—é¢é‡
> 2. åˆå§‹åŒ–å™¨è¯­æ³•
> 3. isEmpty æ£€æµ‹æ˜¯å¦ä¸ºç©º

```
var str = ""
var str1 = String()

if str.isEmpty {
		// empty
}
```

## å­—é¢é‡

> Swiftä¼šä¸ºstrå¸¸é‡æŽ¨æ–­å‡ºç±»åž‹ä¸ºString

```
let str = "abc"
```

## å¤šè¡Œå­—é¢é‡

> å¤šè¡Œå­—ç¬¦ä¸²å­—é¢é‡ç”¨ä¸‰ä¸ªå¼•å·

```
let longStr = """
adsadadaajadsjkjkadsjkdask 
akjdsasdkjlasdkjdask
lajklkjdsakjasdkjaskjadskjasdkjda"""
```

## å­—ç¬¦ä¸²ä¸­ç‰¹æ®Šå­—ç¬¦

> 1. è½¬ä¹‰å­—ç¬¦ï¼š\0ï¼ˆç©ºå­—ç¬¦ï¼‰ã€ \nï¼ˆæ¢è¡Œç¬¦ï¼‰ã€\rï¼ˆå›žè½¦ç¬¦ï¼‰ã€\tï¼ˆåˆ¶è¡¨ç¬¦ï¼‰ï¼›
> 2. Unicodeï¼š\u{n}ï¼Œnä¸º1-8ä¸ºçš„åå…­è¿›åˆ¶å­—ç¬¦ä¸”å¯ç”¨çš„ Unicode ä½ç ã€‚ï¼›

```
let str = "\"dsaadsasdf\"ddfaskfkf"
let unicodeStr = "\u{24} \u{1F496}"
```

## æ‰©å±•å­—ç¬¦ä¸²åˆ†éš”ç¬¦ï¼ˆRaw Stringï¼‰Swift5æ–°å¢ž

> 1. åœ¨å­—ç¬¦ä¸²å­—é¢é‡ä¸­æ”¾ç½®æ‰©å±•å­—ç¬¦ä¸²åˆ†éš”ç¬¦ï¼Œè®©å­—ç¬¦ä¸²ä¸­åŒ…å«çš„ç‰¹æ®Šå­—ç¬¦ä¸ç”Ÿæ•ˆï¼›
> 2. è‹¥æƒ³è®©ç‰¹æ®Šå­—ç¬¦ç”Ÿæ•ˆï¼Œè½¬ä¹‰å­—ç¬¦ä¸­æ·»åŠ ç›¸åŒæ•°é‡çš„#ï¼›

```
let str = #"Line 1 \n Line 2"#
// Line 1 \n Line 2

let str1 = #"Line 1 \#n Line 2"#
// Line 1
// Line 2

let str1 = ###"Line 1 \###n Line 2"###
// Line 1
// Line 2
```



# å­—ç¬¦ä¸²æ“ä½œ

## å­—ç¬¦ä¸²å¯å˜æ€§

> var æŒ‡å®šçš„å¯ä¿®æ”¹ï¼›
>
> let æŒ‡å®šçš„ä¸å¯ä¿®æ”¹ï¼›
>
> å¯¹æ¯”OCä¸­çš„ï¼ˆNSString å’Œ NSMutableStringï¼‰

```
var variableString = "Horse"
variableString += " and carriage"
// variableString çŽ°åœ¨ä¸º "Horse and carriage"

let constantString = "Highlander"
constantString += " and another Highlander"
// è¿™ä¼šæŠ¥å‘Šä¸€ä¸ªç¼–è¯‘é”™è¯¯ï¼ˆcompile-time errorï¼‰ - å¸¸é‡å­—ç¬¦ä¸²ä¸å¯ä»¥è¢«ä¿®æ”¹ã€‚
```

## å­—ç¬¦ä¸²æ˜¯å€¼ç±»åž‹

> 1. åœ¨ Swift ä¸­ `String` ç±»åž‹æ˜¯*å€¼ç±»åž‹*ã€‚
> 2. å¦‚æžœä½ åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå½“å…¶è¿›è¡Œå¸¸é‡ã€å˜é‡èµ‹å€¼æ“ä½œï¼Œæˆ–åœ¨å‡½æ•°/æ–¹æ³•ä¸­ä¼ é€’æ—¶ï¼Œä¼šè¿›è¡Œå€¼æ‹·è´ã€‚
> 3. åœ¨å®žé™…ç¼–è¯‘æ—¶ï¼ŒSwift ç¼–è¯‘å™¨ä¼šä¼˜åŒ–å­—ç¬¦ä¸²çš„ä½¿ç”¨ï¼Œä½¿å®žé™…çš„å¤åˆ¶åªå‘ç”Ÿåœ¨ç»å¯¹å¿…è¦çš„æƒ…å†µä¸‹ï¼Œè¿™æ„å‘³ç€ä½ å°†å­—ç¬¦ä¸²ä½œä¸ºå€¼ç±»åž‹çš„åŒæ—¶å¯ä»¥èŽ·å¾—æžé«˜çš„æ€§èƒ½ã€‚

## ä½¿ç”¨å­—ç¬¦

> 1. for-in å¾ªçŽ¯èŽ·å–å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼›
> 2. å¯ä»¥åˆ›å»º å­—ç¬¦ å¸¸é‡/å˜é‡ï¼›
> 3. å­—ç¬¦ æ•°ç»„ å¯ä»¥è½¬æˆ å­—ç¬¦ä¸²

```
for character in "Dog!ðŸ¶" {
    print(character)
}
// D
// o
// g
// !
// ðŸ¶

let exclamationMark: Character = "!"

let catCharacters: [Character] = ["C", "a", "t", "!", "ðŸ±"]
let catString = String(catCharacters)
print(catString)
// æ‰“å°è¾“å‡ºï¼šâ€œCat!ðŸ±â€
```

## å­—ç¬¦ä¸²æ‹¼æŽ¥

> 1. åŠ è¿ç®—ç¬¦ + 
> 2. åŠ èµ‹å€¼è¿ç®—ç¬¦ +=
> 3. Stringç±»åž‹append()æ–¹æ³•

```
let string1 = "hello"
let string2 = " there"
var welcome = string1 + string2
// welcome çŽ°åœ¨ç­‰äºŽ "hello there"

var instruction = "look over"
instruction += string2
// instruction çŽ°åœ¨ç­‰äºŽ "look over there"

let exclamationMark: Character = "!"
welcome.append(exclamationMark)
// welcome çŽ°åœ¨ç­‰äºŽ "hello there!"
```

## å­—ç¬¦ä¸²æ’å€¼

> `\()` ç±»ä¼¼äºŽ `NSString stringWithFormat ` æ–¹æ³•

```
let multiplier = 3
let message = "\(multiplier) times 2.5 is \(Double(multiplier) * 2.5)"
// message æ˜¯ "3 times 2.5 is 7.5"
```

















